<script>
	import confetti from 'canvas-confetti';
	import { post } from '../../utils/request';
	import { fade } from 'svelte/transition';

	export let count;
	let toastShow = false;

	function fire() {
		confetti({
			particleCount: 100,
			spread: 50,
		});

		count++;
		// ä¿®æ”¹ count
		post('/test', { count });

		toastShow = true;
	}
</script>

<button class="btn btn-neutral" on:click={() => fire()}>ç‚¹èµž x {count}</button>

{#if toastShow}
	<div class="toast" transition:fade={{ delay: 250, duration: 300 }}>
		<div class="alert alert-success">
			<span class="text-white text-sm">ðŸ˜† è°¢è°¢æ‚¨çš„ç‚¹èµž!</span>
		</div>
	</div>
{/if}
